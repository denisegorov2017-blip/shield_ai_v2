# üìã Shield AI v2.0 - Use Cases

## 1. –í–≤–µ–¥–µ–Ω–∏–µ

–í —Å–ª–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Shield AI —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã Use Cases (—Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è), –∫–æ—Ç–æ—Ä—ã–µ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∏—Ä—É—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –¥–æ–º–µ–Ω–Ω—ã–º –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–º —Å–ª–æ—è–º–∏. –ö–∞–∂–¥—ã–π Use Case –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –æ—Ç–¥–µ–ª—å–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é, –≤—ã–ø–æ–ª–Ω—è–µ–º—É—é —Å–∏—Å—Ç–µ–º–æ–π.

## 2. –û–±–∑–æ—Ä Use Cases

### 2.1. `AuditInventoryUseCase` - –ê—É–¥–∏—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤

**–§–∞–π–ª**: [`src/shield_ai/application/use_cases/audit_inventory.py`](src/shield_ai/application/use_cases/audit_inventory.py)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í—ã–ø–æ–ª–Ω—è–µ—Ç –∞—É–¥–∏—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏, –≤—ã—è–≤–ª—è—è –∞–Ω–æ–º–∞–ª–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∏–ª–∏ –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã.

**–ú–µ—Ç–æ–¥—ã**:
*   `find_negative_balances(batches: List[BatchBalance]) -> List[BatchBalance]`: –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ `BatchBalance` –æ–±—ä–µ–∫—Ç—ã —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –æ—Å—Ç–∞—Ç–∫–∞.
*   `find_excess_balances(batches: List[BatchBalance]) -> List[BatchBalance]`: –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ `BatchBalance` –æ–±—ä–µ–∫—Ç—ã, –≥–¥–µ –æ—Å—Ç–∞—Ç–æ–∫ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –∑–∞–¥–∞–Ω–Ω—ã–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥.
*   `execute(batch_balances: List[BatchBalance]) -> List[BatchBalance]`: –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—É–¥–∏—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã.

**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã**:
Use Case –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ `BatchBalance`, –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∏—Ö –∏ –∑–∞—Ç–µ–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª–∏–π. –í —Å–ª—É—á–∞–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è `ValidationException`.

### 2.2. `CalibrateCoefficientsUseCase` - –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ —É—Å—É—à–∫–∏

**–§–∞–π–ª**: [`src/shield_ai/application/use_cases/calibrate_coefficients.py`](src/shield_ai/application/use_cases/calibrate_coefficients.py)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –†–∞—Å—á–µ—Ç —É—Å—É—à–∫–∏ –ø–æ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–µ, –∏—Å–ø–æ–ª—å–∑—É—è `SimpleShrinkageStrategy`. –í —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π 2 –∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ä–∞—Å—á–µ—Ç —É—Å—É—à–∫–∏ –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö FIFO-—Ä–∞—Å—á–µ—Ç–æ–≤.

**–ú–µ—Ç–æ–¥—ã**:
*   `execute(movements: List[BatchMovement], balances: List[BatchBalance]) -> List[ShrinkageCalculation]`: –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞—Å—á–µ—Ç —É—Å—É—à–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –∏ –æ—Å—Ç–∞—Ç–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤.

**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã**:
–≠—Ç–æ—Ç Use Case –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω "–°—Ç—Ä–∞—Ç–µ–≥–∏—è" (`Strategy Pattern`), –ø–æ–∑–≤–æ–ª—è—è –∏–Ω–∂–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–∞—Å—á–µ—Ç–∞ —É—Å—É—à–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `SimpleShrinkageStrategy`). –û–Ω –æ—Ä–∫–µ—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –¥–≤–∏–∂–µ–Ω–∏—è—Ö –∏ –æ—Å—Ç–∞—Ç–∫–∞—Ö, –ø–µ—Ä–µ–¥–∞–µ—Ç –∏—Ö –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞ —É—Å—É—à–∫–∏.

### 2.3. `ForecastShrinkageUseCase` - –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—É—à–∫–∏

**–§–∞–π–ª**: [`src/shield_ai/application/use_cases/forecast_shrinkage.py`](src/shield_ai/application/use_cases/forecast_shrinkage.py)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—É—à–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —É—Å—É—à–∫–∏ –ø–æ –ø–∞—Ä—Ç–∏—è–º.

**–ú–µ—Ç–æ–¥—ã**:
*   `execute(movements: List[BatchMovement], balances: List[BatchBalance]) -> List[ShrinkageCalculation]`: –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞—Å—á–µ—Ç —É—Å—É—à–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –æ –¥–≤–∏–∂–µ–Ω–∏—è—Ö –∏ –æ—Å—Ç–∞—Ç–∫–∞—Ö.
*   `calculate_for_batches(movements: List[BatchMovement], balances: List[BatchBalance]) -> List[ShrinkageCalculation]`: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –∏–º—è –¥–ª—è `execute` –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏.
*   `execute_all() -> List[dict]`: –ú–µ—Ç–æ–¥ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Ç–µ—Å—Ç–æ–º. (–í–Ω–∏–º–∞–Ω–∏–µ: –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ —É—Å—Ç–∞—Ä–µ–≤—à–∏–π, —Ç–∞–∫ –∫–∞–∫ –≤ –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ —Å–µ—Å—Å–∏—é).

**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã**:
–ü–æ–¥–æ–±–Ω–æ `CalibrateCoefficientsUseCase`, —ç—Ç–æ—Ç Use Case —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω "–°—Ç—Ä–∞—Ç–µ–≥–∏—è" (`Strategy Pattern`) –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —É—Å—É—à–∫–∏. –û–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –¥–≤–∏–∂–µ–Ω–∏—è—Ö –∏ –æ—Å—Ç–∞—Ç–∫–∞—Ö (–≤ –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö - –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö) –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —É—Å—É—à–∫–∏.