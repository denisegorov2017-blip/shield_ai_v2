# Модель данных: FlatRecord

Этот документ описывает плоскую структуру данных `FlatRecord`, которая является результатом работы парсера Excel. Каждая запись представляет собой одно движение по складу.

## Сущность: FlatRecord

| Поле         | Тип данных Python | Описание                                      |
|--------------|-------------------|-----------------------------------------------|
| `warehouse`  | `str`             | Склад, на котором произошла транзакция.      |
| `group`      | `str`             | Товарная группа.                              |
| `product`    | `str`             | Наименование конкретного товара.              |
| `batch_code` | `str`             | Уникальный идентификатор партии. Создается только приходным документом. |
| `batch_date` | `datetime`        | Дата прихода партии. Важно для FIFO и отслеживания срока годности. |
| `doc_type`   | `str`             | Тип документа движения (например, «Поступление», «Реализация»). |
| `doc_date`   | `datetime`        | Дата документа движения. Должна быть с таймзоной для избежания несостыковок. |
| `qty_begin`  | `Decimal`         | Начальное количество до транзакции.         |
| `qty_in`     | `Decimal`         | Количество поступления.                       |
| `qty_out`    | `Decimal`         | Количество расхода.                           |
| `qty_end`    | `Decimal`         | Конечное количество после транзакции.        |
| `unit`       | `str`             | Единица измерения (например, «кг», «шт»).     |
| `comment`    | `Optional[str]`   | Необязательный комментарий к записи.          |
| `metadata`   | `Optional[dict]`  | Служебные метаданные для будущего расширения. |